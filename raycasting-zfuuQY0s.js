import{S as e,P as t,W as a,A as o,O as n,M as s,a as l,b as i,R as c,V as r,u as d}from"./updateSize-GeXudlkc.js";import{d as u,r as w,o as m,s as v,c as f,e as j,f as p}from"./index-N6zNtJCx.js";const b={class:"flex-1 overflow-hidden"},x=u({__name:"raycasting",setup(u){const x=w(null),h=new e,S=new t(45,1,.1,1e3);S.position.set(2,2,15),S.lookAt(0,0,0);const g=new a,k=new o(5);h.add(k);const y=new n(S,g.domElement),C=new s(new l(1,32,32),new i({color:65280}));C.position.x=-4,h.add(C);const A=new s(new l(1,32,32),new i({color:16711935}));A.position.x=4,h.add(A);const E=new c,_=new r,F=e=>{var t,a;x.value&&(_.x=(e.clientX-223)/((null==(t=x.value)?void 0:t.clientWidth)||0)*2-1,_.y=-(e.clientY-130)/((null==(a=x.value)?void 0:a.clientHeight)||0)*2+1),(()=>{E.setFromCamera(_,S);const e=E.intersectObjects([C,A]);if(e.length>0){if(e[0].object.isSelect)return e[0].object.isSelect=!1,void e[0].object.material.color.set(e[0].object.oldClor);e[0].object.isSelect=!0,e[0].object.oldClor=e[0].object.material.color.getHex(),e[0].object.material.color.set(16711680)}})()},H=()=>{y.update(),requestAnimationFrame(H),g.render(h,S)};return m((async()=>{var e;await v(),x.value&&(d(x.value,S,g),null==(e=x.value)||e.appendChild(g.domElement),window.addEventListener("click",F)),H()})),(e,t)=>(f(),j("div",b,[p("div",{ref_key:"canvasRef",ref:x,class:"h-full"},null,512)]))}});export{x as default};
